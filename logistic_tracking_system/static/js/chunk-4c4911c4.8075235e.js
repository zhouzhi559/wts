(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c4911c4"],{"12de":function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("el-card",[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[e._v("工站编码 : "+e._s(e.CurrentUserInfo.work_id))]),s("span",{staticClass:"ml20"},[e._v("工站名称 : "+e._s(e.workStationName))]),s("span",{staticClass:"ml20"},[e._v("工站类型 : "+e._s(e.CurrentUserInfo.work_type))])]),s("el-form",{ref:"formRef",staticStyle:{padding:"0 60px 0 20px",width:"700px",margin:"60px 0"},attrs:{model:e.form,rules:e.formRules,"label-width":"none"}},[s("el-form-item",{attrs:{prop:"response_datas[0].finished_product_code",label:"产品编码",rules:[{required:!0,message:"产品编码不能为空"}]}},[s("el-input",{ref:"firstInput",on:{input:e.inputChange},model:{value:e.form.response_datas[0].finished_product_code,callback:function(t){e.$set(e.form.response_datas[0],"finished_product_code",t)},expression:"form.response_datas[0].finished_product_code"}})],1),s("el-form-item",{attrs:{label:"检验结果",prop:"status"}},[s("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.response_datas[0].status,callback:function(t){e.$set(e.form.response_datas[0],"status",t)},expression:"form.response_datas[0].status"}},[s("el-option",{attrs:{label:"合格",value:"合格"}}),s("el-option",{attrs:{label:"不合格",value:"不合格"}})],1)],1),"不合格"==e.form.status?s("el-form-item",{attrs:{label:"备注",prop:"description"}},[s("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1):e._e()],1),s("div",[s("el-button",{on:{click:e.resetForm}},[e._v("重 置")]),s("el-button",{staticStyle:{"margin-left":"60px"},attrs:{type:"primary"},on:{click:e.dialogSave}},[e._v("确 定")])],1)],1)],1)},a=[],r=s("5530"),i=(s("159b"),s("fd03")),n=s("2f62"),c={name:"MissStation",data:function(){return{timeout:"",workStationName:"",form:{product_plan_code:"",response_datas:[{finished_product_code:"",status:"合格"}]},formBase:{product_plan_code:"",response_datas:[{finished_product_code:"",status:"合格"}]}}},computed:Object(r["a"])({},Object(n["c"])(["ProductPlanCodeNameList","MatterCodeNameList","BomMatterCodeNameList","WorkCodeNameList","ProductionPlanCode","CurrentUserInfo"])),methods:Object(r["a"])(Object(r["a"])({},Object(n["b"])(["getLogisticProductPlanCodeName","getLogisticMatterNameCode","getLogisticBomMatterCodeName","getLogisticWorkCodeName","getLogisticProductPlanDeal"])),{},{inputChange:function(e){},getLogisticModifyFinishProductStatus:function(e){var t=this;i["a"].getLogisticModifyFinishProductStatus(e).then((function(e){console.log("产品过站 新增",e),0==e.code?(t.resetForm(),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},resetForm:function(){var e=this;this.form=JSON.parse(JSON.stringify(this.formBase)),this.$nextTick((function(){e.$refs.formRef.clearValidate()}))},dialogSave:function(){var e=this;if(console.log("this.form",this.form),!this.ProductionPlanCode)return this.$message.warning("没有进行中的生产计划！"),!1;this.$refs.formRef.validate((function(t){if(t){console.log("产品过站",e.form);var s=JSON.parse(JSON.stringify(e.form));s.product_plan_code=e.ProductionPlanCode,s.response_datas=JSON.stringify(e.form.response_datas),e.getLogisticModifyFinishProductStatus(s)}else e.$message({message:"请修改正确的数据格式！",type:"warning"})}))}}),mounted:function(){var e=this;this.getLogisticProductPlanDeal(),this.getLogisticWorkCodeName(),this.WorkCodeNameList.forEach((function(t){e.CurrentUserInfo.work_id==t.work_id&&(e.workStationName=t.work_name)})),this.$nextTick((function(){e.$refs.firstInput.focus()}))}},d=c,l=(s("3d91"),s("2877")),u=Object(l["a"])(d,o,a,!1,null,"9579f94a",null);t["default"]=u.exports},2486:function(e,t,s){},"3d91":function(e,t,s){"use strict";s("2486")}}]);
//# sourceMappingURL=chunk-4c4911c4.8075235e.js.map