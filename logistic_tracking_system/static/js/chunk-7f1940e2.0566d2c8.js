(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f1940e2"],{a927:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-style":{background:"#eef1f6",color:"#606266"}},on:{"selection-change":e.handleSelectionChange}},[e.isShowSelect?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e._l(e.tableCol,(function(t,l){return["solt"==t.colType?a("el-table-column",{key:l+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align?t.align:"left"},scopedSlots:e._u([{key:"default",fn:function(l){return!t.isShow||t.isShow(l.row)?e._l(t.option,(function(t,n){return a("span",{key:n+"only",staticStyle:{display:"inline-block","margin-left":"5px"}},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.event(l.row)}}},[e._v(" "+e._s(t.label)+" ")])],1)})):void 0}}],null,!0)}):e._e(),"tag"==t.colType?a("el-table-column",{key:l+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align,sortable:""},scopedSlots:e._u([{key:"default",fn:function(l){return[a("el-tag",{style:[{width:t.tagRender(l.row).tagWidth?t.tagRender(l.row).tagWidth:"70px"}],attrs:{size:"medium",type:t.tagRender(l.row).tagType}},[e._v(e._s(t.tagRender(l.row).tagText))])]}}],null,!0)}):e._e(),"solt"!=t.colType&&"tag"!=t.colType&&0!=t.show?a("el-table-column",{key:l+"only",attrs:{prop:t.field,label:t.label,width:t.width,align:t.align,sortable:""}}):e._e()]}))],2),e.ispagination?a("div",{staticClass:"pagination-wrap"},[a("el-pagination",{attrs:{"current-page":e.listQuery.page,"page-sizes":[5,10,20,30,40,50,100],"page-size":e.listQuery.page_size,layout:"total, sizes, prev, pager, next, jumper",total:e.listQuery.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1)},n=[],i={name:"ELTable",props:{tableCol:{type:Array,default:function(){return[]}},tableData:{type:Array,default:function(){return[]}},ispagination:{type:Boolean,default:!0},isShowSelect:{type:Boolean,default:!1},listQuery:{type:Object,default:function(){return{page:1,page_size:10,total:0}}}},data:function(){return{}},methods:{handleSizeChange:function(e){this.$emit("sizeChange",e)},handleCurrentChange:function(e){this.$emit("currentChange",e)},handleSelectionChange:function(e){this.$emit("handleSelectionChange",e)}}},o=i,s=a("2877"),r=Object(s["a"])(o,l,n,!1,null,"b575f792",null);t["a"]=r.exports},b196:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"formDiv"},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"计划名称"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.listQuery.plan_name,callback:function(t){e.$set(e.listQuery,"plan_name",t)},expression:"listQuery.plan_name"}})],1),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.listQuery.plan_status,callback:function(t){e.$set(e.listQuery,"plan_status",t)},expression:"listQuery.plan_status"}},e._l(e.plan_statusArr,(function(e,t){return a("el-option",{key:t+" dialog",attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticStyle:{"margin-left":"20px !important"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.searchBtn}},[e._v("查询")]),a("el-button",{attrs:{size:"medium"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1),a("el-card",{staticClass:"box-card mt20"},[a("div",{},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"medium",plain:""},on:{click:e.addBtn}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新增")])],1)],1),a("ELTable",{attrs:{tableCol:e.tableCol,tableData:e.tableData,listQuery:e.listQuery,ispagination:e.ispagination},on:{currentChange:e.currentChange,sizeChange:e.sizeChange}})],1)]),a("el-dialog",{attrs:{title:e.dialogTitle,width:"600px",visible:e.dialogFlag,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogFlag=t}}},[a("el-form",{ref:"dialogFormRef",staticStyle:{padding:"0 60px 0 20px"},attrs:{model:e.dialogForm,rules:e.dialogFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"计划名称",prop:"plan_name"}},[a("el-input",{model:{value:e.dialogForm.plan_name,callback:function(t){e.$set(e.dialogForm,"plan_name",t)},expression:"dialogForm.plan_name"}})],1),a("el-form-item",{attrs:{label:"计划产量",prop:"plan_count"}},[a("el-input",{model:{value:e.dialogForm.plan_count,callback:function(t){e.$set(e.dialogForm,"plan_count",t)},expression:"dialogForm.plan_count"}})],1),a("el-form-item",{attrs:{label:"计划开工日",prop:"plan_start_day"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.dialogForm.plan_start_day,callback:function(t){e.$set(e.dialogForm,"plan_start_day",t)},expression:"dialogForm.plan_start_day"}})],1),a("el-form-item",{attrs:{label:"计划完工日",prop:"plan_end_day"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},model:{value:e.dialogForm.plan_end_day,callback:function(t){e.$set(e.dialogForm,"plan_end_day",t)},expression:"dialogForm.plan_end_day"}})],1),a("el-form-item",{attrs:{label:"状态",prop:"plan_name"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.dialogForm.plan_status,callback:function(t){e.$set(e.dialogForm,"plan_status",t)},expression:"dialogForm.plan_status"}},e._l(e.plan_statusArr,(function(e,t){return a("el-option",{key:t+" dialog",attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"description"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.dialogForm.description,callback:function(t){e.$set(e.dialogForm,"description",t)},expression:"dialogForm.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFlag=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.dialogSave}},[e._v("确 定")])],1)],1)],1)},n=[],i=a("1da1"),o=a("5530"),s=(a("a4d3"),a("e01a"),a("96cf"),a("a927")),r=a("fd03"),c=a("2f62"),d={name:"ProductionPlan",components:{ELTable:s["a"]},data:function(){return{plan_statusArr:[{label:"等待",value:"等待"},{label:"进行中",value:"进行中"},{label:"完成",value:"完成"},{label:"取消",value:"取消"}],listQuery:{prodect_code:"",plan_name:"",plan_status:"",page:1,page_size:10,total:0},listQueryBase:{prodect_code:"",plan_name:"",plan_status:"",page:1,page_size:10,total:0},ispagination:!0,dialogTitle:"",dialogFlag:!1,dialogForm:{prodect_code:"",product_plan_code:"",plan_name:"",plan_count:"",plan_start_day:"",plan_end_day:"",plan_status:"",description:""},dialogFormBase:{prodect_code:"",product_plan_code:"",plan_name:"",plan_count:"",plan_start_day:"",plan_end_day:"",plan_status:"",description:""},dialogFormRules:{prodect_code:[{required:!0,message:"请选择产品",trigger:"change"}],plan_name:[{required:!0,message:"请输入计划名称",trigger:"blur"}],plan_count:[{required:!0,message:"请输入计划产量",trigger:"blur"}],plan_start_day:[{required:!0,message:"请选择计划开工日",trigger:"blur"}],plan_end_day:[{required:!0,message:"请选择计划完工日",trigger:"blur"}],plan_status:[{required:!0,message:"请选择状态",trigger:"change"}]},tableCol:[{label:"计划名称",field:"plan_name",align:"center"},{label:"计划产量",field:"plan_count",align:"center"},{label:"计划开工日",field:"plan_start_day",align:"center"},{label:"计划完工日",field:"plan_end_day",align:"center"},{field:"plan_status",align:"center",label:"状态",colType:"tag",tagRender:function(e){var t={tagType:"",tagText:e.plan_status};return"进行中"==e.plan_status?t.tagType="":"等待"==e.plan_status?t.tagType="info":"完成"==e.plan_status?t.tagType="success":"取消"==e.plan_status&&(t.tagType="warning"),t}},{label:"备注",field:"description",align:"center"},{label:"操作",colType:"solt",align:"center",option:[{label:"修改",event:this.colEditBtn},{label:"删除",event:this.colDeleteBtn}]}],tableData:[]}},computed:Object(o["a"])({},Object(c["c"])(["ProductCodeNameList"])),methods:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["getLogisticProductCodeName"])),{},{searchBtn:function(){this.listQuery.page=1,this.getLogisticProductPlanDeal(this.listQuery)},resetForm:function(){this.listQuery=JSON.parse(JSON.stringify(this.listQueryBase)),this.getLogisticProductPlanDeal(this.listQuery)},currentChange:function(e){this.listQuery.page=e,this.getLogisticProductPlanDeal(this.listQuery)},sizeChange:function(e){this.listQuery.page=1,this.listQuery.page_size=e,this.getLogisticProductPlanDeal(this.listQuery)},getLogisticProductPlanDeal:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r["a"].getLogisticProductPlanDeal(e).then((function(e){if(console.log("生产计划列表 查询",e),0==e.code){if(e.data.data&&e.data.data.length>0){var a=e.data.data;t.tableData=a,t.listQuery.total=e.data.total}}else t.$message({message:e.message,type:"error"})}));case 1:case"end":return a.stop()}}),a)})))()},postLogisticProductPlanDeal:function(e){var t=this;r["a"].postLogisticProductPlanDeal(e).then((function(e){console.log("生产计划列表 新增",e),0==e.code?(t.dialogFlag=!1,t.getLogisticProductPlanDeal(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},addBtn:function(){var e=this;this.dialogTitle="新增生产计划",this.dialogFlag=!0,this.$nextTick((function(){e.$refs.dialogFormRef.clearValidate()})),this.dialogForm=JSON.parse(JSON.stringify(this.dialogFormBase))},colEditBtn:function(e){var t=this;console.log(e),this.dialogTitle="修改生产计划",this.dialogFlag=!0,this.$nextTick((function(){t.$refs.dialogFormRef.clearValidate()})),this.dialogForm={prodect_code:e.prodect_code,product_plan_code:e.product_plan_code,plan_name:e.plan_name,plan_count:e.plan_count,plan_start_day:e.plan_start_day,plan_end_day:e.plan_end_day,plan_status:e.plan_status,description:e.description}},getLogisticPutProductPlanDeal:function(e){var t=this;r["a"].getLogisticPutProductPlanDeal(e).then((function(e){console.log("生产计划列表 修改",e),0==e.code?(t.dialogFlag=!1,t.getLogisticProductPlanDeal(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},dialogSave:function(){var e=this;console.log(this.dialogTitle),this.$refs.dialogFormRef.validate((function(t){t?"新增生产计划"==e.dialogTitle?(console.log("新增生产计划",e.dialogForm),e.postLogisticProductPlanDeal(e.dialogForm)):"修改生产计划"==e.dialogTitle&&(console.log("修改生产计划",e.dialogForm),e.getLogisticPutProductPlanDeal(e.dialogForm)):e.$message({message:"请修改正确的数据格式！",type:"warning"})}))},getLogisticDeleteProductPlanDeal:function(e){var t=this;r["a"].getLogisticDeleteProductPlanDeal(e).then((function(e){console.log("生产计划列表 删除",e),0==e.code?(t.getLogisticProductPlanDeal(t.listQuery),t.$message({message:e.message,type:"success"})):t.$message({message:e.message,type:"error"})}))},colDeleteBtn:function(e){var t=this;this.$confirm("确定执行删除操作吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.getLogisticDeleteProductPlanDeal({product_plan_code:e.product_plan_code})}))}}),mounted:function(){this.getLogisticProductPlanDeal(this.listQuery)}},u=d,p=a("2877"),g=Object(p["a"])(u,l,n,!1,null,"36fe1f3d",null);t["default"]=g.exports},e01a:function(e,t,a){"use strict";var l=a("23e7"),n=a("83ab"),i=a("da84"),o=a("5135"),s=a("861d"),r=a("9bf2").f,c=a("e893"),d=i.Symbol;if(n&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var u={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new d(e):void 0===e?d():d(e);return""===e&&(u[t]=!0),t};c(p,d);var g=p.prototype=d.prototype;g.constructor=p;var m=g.toString,y="Symbol(test)"==String(d("test")),f=/^Symbol\((.*)\)[^)]+$/;r(g,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=m.call(e);if(o(u,e))return"";var a=y?t.slice(7,-1):t.replace(f,"$1");return""===a?void 0:a}}),l({global:!0,forced:!0},{Symbol:p})}}}]);
//# sourceMappingURL=chunk-7f1940e2.0566d2c8.js.map